<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>

    <link rel="import" href="App.js">

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar</a>
            <div class="d-flex mx-auto"  style="align-items: center;">
                <input class="form-control me-2" id="box" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" id="btn" type="submit">Search</button>
            </div>
        </div>
        </div>
    </nav>
    <div class="card mx-auto"
        style="width: 18rem; margin-top: 5rem; border: none; background-color: rgb(253, 253, 253);">
        <div class="con" id="img"><img src="https://t3.ftcdn.net/jpg/02/50/08/68/360_F_250086872_srlXRqANYR2IbNfIylRDc3eMO9MinjnV.jpg"style="border-radius: 20px;border: none; width: 280px;" class="card-img-top" alt="..."height="230px" width="200px"></div>        
        <div class="card-body text-center"
            style="background-color: #8cafedab; color: rgb(62, 62, 65); border-radius: 20px;">
            <div class="info">
                <h2 class="container mx-auto" style="margin-top: 10px;"><i class="fas fa-street-view"
                        style="margin-right: 10px;" id="location"></i>{%location%}, {%country%}</h2>
                <p id="date" style="margin-top: 10px;">WED | Oct 23 | 10.49AM</p>
                <hr style="margin-top: 50px; height: 3px; color: rgb(73, 71, 71);">
                <h1 class="temp" style="margin-top: 20px;">{%tempval%}&deg;C</h1>
                <h6 class="tempmin_max" style="margin-top: 10px;">Min {%tempmin%}&deg;C | Max {%tempmax%}&deg;C</h6>
            </div>
        </div>
    </div>
</body>
<script>
    let curDate = document.getElementById("date");
    let image = document.getElementById("img");
    let box = document.getElementById('box');
    let btn = document.getElementById('btn');

    btn.addEventListener('click', ()=>{
        value = box.value;
        document.location.href = `?name=${value}`;
    })

    let tempStatus = "{%tempstatus%}";

    if(tempStatus == 'Clear'){
        image.innerHTML = '<img src="https://t3.ftcdn.net/jpg/02/50/08/68/360_F_250086872_srlXRqANYR2IbNfIylRDc3eMO9MinjnV.jpg"style="border-radius: 20px;border: none; width: 280px;" class="card-img-top" alt="..."height="230px" width="200px">'
    }
    else if(tempStatus == 'Clouds'){
        image.innerHTML = '<img src="https://media.istockphoto.com/vectors/cloud-seamless-vector-background-endless-cartoon-cloudscape-vector-id846314770?k=20&m=846314770&s=612x612&w=0&h=8-2AV8WCtiqWSJLVk2DB7We0UdRAO2O3bTm04TTl6bA="style="border-radius: 20px;border: none; width: 280px;" class="card-img-top" alt="..."height="230px" width="200px">'
    }
    else if(tempStatus == 'Rain'){
        image.innerHTML = '<img src="https://st2.depositphotos.com/1001941/7838/v/600/depositphotos_78386402-stock-illustration-cute-boys-in-rain-for.jpg"style="border-radius: 20px;border: none; width: 280px;" class="card-img-top" alt="..."height="230px" width="200px">'
    }
    else{
        image.innerHTML = '<img src="https://t3.ftcdn.net/jpg/02/50/08/68/360_F_250086872_srlXRqANYR2IbNfIylRDc3eMO9MinjnV.jpg"style="border-radius: 20px;border: none; width: 280px;" class="card-img-top" alt="..."height="230px" width="200px">'
    }

    const getCurrentDay = () => {
        var weekday = new Array(7);
        weekday[0] = "SUN";
        weekday[1] = "MON";
        weekday[2] = "TUE";
        weekday[3] = "WED";
        weekday[4] = "THU";
        weekday[5] = "FRI";
        weekday[6] = "SAT";
        let currentDay = new Date();
        return weekday[currentDay.getDay()];
    }

    const getCurrentMonth = () => {
        var month = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
        let currentdate = new Date();
        console.log(month[currentdate.getMonth()]);
        var date = currentdate.getDate();
        return `${month[currentdate.getMonth()]} ${date}`;
    }

    const getCurrentTime = () => {
        let currentTime = new Date();
        let hours = currentTime.getHours();
        let mins = currentTime.getMinutes();

        let perios = "AM";

        if (hours > 11) {
            perios = "PM";
            if (hours > 12) hours -= 12;
        }
        if (mins < 10) {
            mins = "0" + mins;
        }
        return `${hours}.${mins} ${perios}`
    }

    curDate.innerHTML = getCurrentDay() + " | " + getCurrentMonth() + " | " + getCurrentTime();

</script>

</html>